<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to Concstats • concstats</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to Concstats">
<meta property="og:description" content="concstats">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">concstats</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/concstats-intro.html">Introduction to Concstats</a>
    </li>
    <li>
      <a href="../articles/concstats-start.html">Getting started</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/schneiderpy/concstats/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="concstats-intro_files/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="concstats-intro_files/kePrint-0.0.1/kePrint.js"></script><link href="concstats-intro_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to Concstats</h1>
                        <h4 data-toc-skip class="author">Andreas Schneider</h4>
            
            <h4 data-toc-skip class="date">2022-04-12</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/schneiderpy/concstats/blob/HEAD/vignettes/concstats-intro.Rmd" class="external-link"><code>vignettes/concstats-intro.Rmd</code></a></small>
      <div class="hidden name"><code>concstats-intro.Rmd</code></div>

    </div>

    
    
<p>The goal of the <code>concstats</code> package is to offer a set of alternative and/or additional measures to better determine a given market structure and therefore reduce uncertainty with respect to a given market situation. Various functions or groups of functions are available to achieve the desired goal.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To install the latest development version of <code>concstats</code> directly from <a href="https://github.com/schneiderpy/concstats" class="external-link">GitHub</a> use:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span> <span class="co">#  Tools to Make Developing R Packages Easier </span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/remote-reexports.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"schneiderpy/concstats"</span><span class="op">)</span></code></pre></div>
<p>Then, load the package.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/schneiderpy/concstats" class="external-link">concstats</a></span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="data">Data<a class="anchor" aria-label="anchor" href="#data"></a>
</h2>
<p>The following examples use mainly fictitious data to present the functions. However, if you want to test the functionality in more detail, the package comes with a small data set of real paraguayan credit cooperatives (creditcoops). There are 22 paired observations for real paraguayan credit cooperatives (with assets &gt; 11 Mio. USD) for 2016 and 2018 with their respective total loans granted. For a better visualization there is an additional column with the transformed total loans. For further information on the data please see the <code>data</code> help file.</p>
<pre><code><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 5</span></span>
<span class="co">#&gt;   coop_id year  total_loans paired total_loans_log</span>
<span class="co">#&gt;     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span>       1 2016    173<span style="text-decoration: underline;">892</span>358      1            19.0</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span>       1 2018    199<span style="text-decoration: underline;">048</span>199      1            19.1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span>       2 2016    323<span style="text-decoration: underline;">892</span>456      2            19.6</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span>       2 2018    461<span style="text-decoration: underline;">609</span>439      2            20.0</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span>       3 2016    179<span style="text-decoration: underline;">981</span>404      3            19.0</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span>       3 2018    227<span style="text-decoration: underline;">232</span>008      3            19.2</span></code></pre>
</div>
<div class="section level2">
<h2 id="group-wrapper-overview">Group wrapper overview<a class="anchor" aria-label="anchor" href="#group-wrapper-overview"></a>
</h2>
<p>At the moment, there are the following groups of functions available:<br>
- <code>mstruct</code> is a wrapper for market structure measures<br>
- <code>inequ</code> is a wrapper for inequality and diversity measures<br>
- <code>comp</code> is a wrapper with different concentration measures<br>
- <code>concstats</code> is a function which calculates a set of preselected measures in a one step procedure to get a quick overview of a given market structure</p>
<p>The functions will be presented in more details in the following short step-by-step guide.</p>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<p>We will use a vector which represents market participants with their respective market shares (in decimal form):</p>
<div class="section level3">
<h3 id="mstruct">mstruct<a class="anchor" aria-label="anchor" href="#mstruct"></a>
</h3>
<p>The wrapper includes the following individual functions: <code>firm</code>, <code>nrs_eq</code>, <code>top</code>, <code>top3</code>, <code>top5</code>, and <code>all</code></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">test_share</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.35</span>, <span class="fl">0.4</span>, <span class="fl">0.05</span>, <span class="fl">0.1</span>, <span class="fl">0.06</span>, <span class="fl">0.04</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>
<span class="va">test_share_top5</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mstruct.html">top5</a></span><span class="op">(</span><span class="va">test_share</span><span class="op">)</span> <span class="co"># top 5 market share</span></code></pre></div>
<p>You should have noticed that the market shares are in decimal form. There are eight market participants, however, two have no market shares, by default <code>concstats</code> treats 0 as NA. The result is a top 5 market share of 96 %. You can also access each function through their respective argument in the group wrapper:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">test_share</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.35</span>, <span class="fl">0.4</span>, <span class="fl">0.05</span>, <span class="fl">0.1</span>, <span class="fl">0.06</span>, <span class="fl">0.04</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>
<span class="va">test_share_top</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mstruct.html">mstruct</a></span><span class="op">(</span><span class="va">test_share</span>, type <span class="op">=</span> <span class="st">"top"</span><span class="op">)</span> <span class="co"># top market share</span></code></pre></div>
<p>Or, just calculate all measures of the group wrapper.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">test_share</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.35</span>, <span class="fl">0.4</span>, <span class="fl">0.05</span>, <span class="fl">0.1</span>, <span class="fl">0.06</span>, <span class="fl">0.04</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>
<span class="va">test_share_mstruct</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mstruct.html">mstruct</a></span><span class="op">(</span><span class="va">test_share</span>, type <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></code></pre></div>
<p>The result is a table with the market structure measures.</p>
</div>
<div class="section level3">
<h3 id="inequ">inequ<a class="anchor" aria-label="anchor" href="#inequ"></a>
</h3>
<p>The inequality and diversity group includes the functions <code>entropy</code>, <code>gini</code>, <code>berry</code>, <code>palma</code>, <code>grs</code>, and <code>all</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">test_share</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.35</span>, <span class="fl">0.4</span>, <span class="fl">0.05</span>, <span class="fl">0.1</span>, <span class="fl">0.06</span>, <span class="fl">0.04</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>
<span class="va">test_share_entropy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/inequ.html">entropy</a></span><span class="op">(</span><span class="va">test_share</span><span class="op">)</span>

<span class="co"># and as a standardized value</span>
<span class="va">test_share_entropy2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/inequ.html">entropy</a></span><span class="op">(</span><span class="va">test_share</span>, unbiased <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="comp">comp<a class="anchor" aria-label="anchor" href="#comp"></a>
</h3>
<p>The group wrapper for competition measures includes the functions <code>hhi</code>, <code>hhi_d</code>, <code>hhi_min</code>, <code>dom</code>, <code>sten</code>, and <code>all</code></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">test_share</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.35</span>, <span class="fl">0.4</span>, <span class="fl">0.05</span>, <span class="fl">0.1</span>, <span class="fl">0.06</span>, <span class="fl">0.04</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>
<span class="va">test_share_hhi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/comp.html">hhi</a></span><span class="op">(</span><span class="va">test_share</span><span class="op">)</span>

<span class="co"># a standardized value</span>
<span class="va">test_share_hhi2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/comp.html">hhi</a></span><span class="op">(</span><span class="va">test_share</span>, unbiased <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="co"># the min average of the hhi</span>
<span class="va">test_share_hhi3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/comp.html">comp</a></span><span class="op">(</span><span class="va">test_share</span>, unbiased <span class="op">=</span> <span class="cn">TRUE</span>, type <span class="op">=</span> <span class="st">"hhi_min"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="concstats">concstats<a class="anchor" aria-label="anchor" href="#concstats"></a>
</h3>
<p>A single function which calculates a set of eight preselected measures in a one step procedure for a first overview of a given market structure.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">test_share</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span><span class="op">)</span>
<span class="va">test_share_conc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/concstats.html">concstats</a></span><span class="op">(</span><span class="va">test_share</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="visualization">Visualization<a class="anchor" aria-label="anchor" href="#visualization"></a>
</h2>
<p>The scope of the package is to calculate market structure and concentration measures to get a quick and more informed overview of a given market situation. However, it is good practice to visualize your data in an exploratory step or in reporting your results. The package <code>concstats</code> works fine with other EDA or data visualization packages e.g. <a href="https://CRAN.R-project.org/package=overviewR" class="external-link"><code>overviewR</code></a>, <a href="https://CRAN.R-project.org/package=DataExplorer" class="external-link"><code>dataexplorer</code></a>, <a href="https://CRAN.R-project.org/package=kableExtra" class="external-link"><code>kableExtra</code></a> or <a href="https://CRAN.R-project.org/package=ggplot2" class="external-link"><code>ggplot2</code></a> to name a view.</p>
<p>Some examples how you can accomplish this. Let us assume one would like to use the group measure for e.g. market structure, and keep the resulting table. We can refine the table using <code>kableExtra</code> which works nice with <code>knitr</code>.</p>
<p>This time, we will use our <code>creditcoops</code> data set, which comes with the package.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"creditcoops"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">creditcoops</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 5</span></span>
<span class="co">#&gt;   coop_id year  total_loans paired total_loans_log</span>
<span class="co">#&gt;     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span>       1 2016    173<span style="text-decoration: underline;">892</span>358      1            19.0</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span>       1 2018    199<span style="text-decoration: underline;">048</span>199      1            19.1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span>       2 2016    323<span style="text-decoration: underline;">892</span>456      2            19.6</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span>       2 2018    461<span style="text-decoration: underline;">609</span>439      2            20.0</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span>       3 2016    179<span style="text-decoration: underline;">981</span>404      3            19.0</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span>       3 2018    227<span style="text-decoration: underline;">232</span>008      3            19.2</span></code></pre></div>
<p>You will need the following two packages.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://haozhu233.github.io/kableExtra/" class="external-link">kableExtra</a></span><span class="op">)</span></code></pre></div>
<p>Now, we will filter out data for the year 2016.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">coops_2016</span> <span class="op">&lt;-</span> <span class="va">creditcoops</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2016</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">coops_2016</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 5</span></span>
<span class="co">#&gt;   coop_id year  total_loans paired total_loans_log</span>
<span class="co">#&gt;     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span>       1 2016    173<span style="text-decoration: underline;">892</span>358      1            19.0</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span>       2 2016    323<span style="text-decoration: underline;">892</span>456      2            19.6</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span>       3 2016    179<span style="text-decoration: underline;">981</span>404      3            19.0</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span>       4 2016    180<span style="text-decoration: underline;">514</span>838      4            19.0</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span>       5 2016     96<span style="text-decoration: underline;">999</span>617      5            18.4</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span>       6 2016   <span style="text-decoration: underline;">2</span>550<span style="text-decoration: underline;">869</span>607      6            21.7</span>

<span class="va">coops_2016</span> <span class="op">&lt;-</span>  <span class="va">coops_2016</span><span class="op">[[</span><span class="st">"total_loans"</span><span class="op">]</span><span class="op">]</span> <span class="co"># atomic vector of total loans</span>
<span class="va">coops_2016</span> <span class="op">&lt;-</span> <span class="va">coops_2016</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">coops_2016</span><span class="op">)</span>   <span class="co"># convert the vector in decimal form</span>
                                           <span class="co"># of market shares</span>

<span class="co"># We then use the new object `coops_2016` to calculate the market structure measures</span>
<span class="co"># as a group in a one-step-procedure:</span>
<span class="va">coops_2016_mstruct</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mstruct.html">mstruct</a></span><span class="op">(</span><span class="va">coops_2016</span>, type <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span>
<span class="va">coops_2016_mstruct_tab</span> <span class="op">&lt;-</span> <span class="va">coops_2016_mstruct</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html" class="external-link">kbl</a></span><span class="op">(</span>caption <span class="op">=</span> <span class="st">"Market structure 2016"</span>, digits <span class="op">=</span> <span class="fl">2</span>,
                  booktabs <span class="op">=</span> <span class="cn">T</span>, align <span class="op">=</span> <span class="st">"r"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_classic.html" class="external-link">kable_classic</a></span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">F</span>, html_font <span class="op">=</span> <span class="st">"Arial"</span><span class="op">)</span>
<span class="va">coops_2016_mstruct_tab</span></code></pre></div>
<table class="table  lightable-classic" style="font-family: Arial; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Market structure 2016
</caption>
<thead><tr>
<th style="text-align:right;">
Measure
</th>
<th style="text-align:right;">
Value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
Firms
</td>
<td style="text-align:right;">
22.0
</td>
</tr>
<tr>
<td style="text-align:right;">
Nrs_equivalent
</td>
<td style="text-align:right;">
8.2
</td>
</tr>
<tr>
<td style="text-align:right;">
Top (%)
</td>
<td style="text-align:right;">
22.1
</td>
</tr>
<tr>
<td style="text-align:right;">
Top3(%)
</td>
<td style="text-align:right;">
55.0
</td>
</tr>
<tr>
<td style="text-align:right;">
Top5(%)
</td>
<td style="text-align:right;">
68.8
</td>
</tr>
</tbody>
</table>
<p>The result is a nice reusable table.</p>
<p>Now, let’s go a step further. We will compare the two samples for 2016 and 2018. For this purpose, we will select from our <code>creditcoops</code> data set the relevant columns (coop_id, year, paired, and total_loans_log) and make a new data frame.</p>
<p>Make sure you have installed the <code>ggplot2</code> package. Load the package.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span> <span class="co"># Create Elegant Data Visualisations Using the Grammar of Graphics</span></code></pre></div>
<p><img src="concstats-intro_files/figure-html/visualization-sample-plot-1.png" width="480" style="display: block; margin: auto;"></p>
<p>Having a look a the output, we see a box plot with paired values (cooperatives) for the two sample years 2016 and 2018.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Andreas Schneider.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
